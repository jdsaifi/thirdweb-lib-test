"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4257],{74257:function(t,e,i){i.r(e),i.d(e,{walletConnect:function(){return k}});var s=i(71958),n=i(42009),a=i(16074),o=i(61322),r=i(82286),h=i(49424),c=i(23123);i(65007),i(35124);var l=new WeakMap,d=new WeakMap,b=new WeakMap,p=new WeakMap,w=new WeakMap,u=new WeakMap,_=new WeakMap,v=new WeakMap,f=new WeakSet,M=new WeakSet;class m extends r.a{get walletName(){return"WalletConnect"}constructor(t){super(t?.walletId||m.id,t),(0,s._)(this,M),(0,s._)(this,f),(0,a._)(this,l,{writable:!0,value:void 0}),(0,a._)(this,d,{writable:!0,value:void 0}),(0,n._)(this,"connector",void 0),(0,n._)(this,"projectId",void 0),(0,n._)(this,"qrcode",void 0),(0,a._)(this,b,{writable:!0,value:t=>{if(t)throw t}}),(0,a._)(this,p,{writable:!0,value:t=>{if((0,a.a)(this,d,t.provider),!(0,a.b)(this,d))throw Error("WalletConnect provider not found after connecting.")}}),(0,a._)(this,w,{writable:!0,value:()=>{(0,s.a)(this,M,g).call(this)}}),(0,a._)(this,u,{writable:!0,value:async t=>{t.chain||t.account}}),(0,a._)(this,_,{writable:!0,value:t=>{"display_uri"===t.type&&this.emit("open_wallet",t.data)}}),(0,a._)(this,v,{writable:!0,value:()=>{this.emit("open_wallet")}}),this.projectId=t?.projectId||h.T,this.qrcode=t?.qrcode!==!1}async getConnector(){if(!this.connector){let{WalletConnectConnector:t}=await i.e(6044).then(i.bind(i,76044));(0,a.a)(this,l,new t({chains:this.chains,options:{qrcode:this.qrcode,projectId:this.projectId,dappMetadata:this.dappMetadata,storage:this.walletStorage,qrModalOptions:this.options?.qrModalOptions}})),this.connector=new o.W((0,a.b)(this,l)),(0,a.a)(this,d,await (0,a.b)(this,l).getProvider()),(0,s.a)(this,f,q).call(this)}return this.connector}}function q(){(0,a.b)(this,l)&&((0,s.a)(this,M,g).call(this),(0,a.b)(this,l).on("connect",(0,a.b)(this,p)),(0,a.b)(this,l).on("disconnect",(0,a.b)(this,w)),(0,a.b)(this,l).on("change",(0,a.b)(this,u)),(0,a.b)(this,l).on("message",(0,a.b)(this,_)),a.b(this,d)?.signer.client.on("session_request_sent",(0,a.b)(this,v)))}function g(){(0,a.b)(this,l)&&((0,a.b)(this,l).removeListener("connect",(0,a.b)(this,p)),(0,a.b)(this,l).removeListener("disconnect",(0,a.b)(this,w)),(0,a.b)(this,l).removeListener("change",(0,a.b)(this,u)),(0,a.b)(this,l).removeListener("message",(0,a.b)(this,_)),a.b(this,d)?.signer.client.removeListener("session_request_sent",(0,a.b)(this,v)))}(0,n._)(m,"id",c.w.walletConnect),(0,n._)(m,"meta",{name:"WalletConnect",iconURL:"ipfs://QmX58KPRaTC9JYZ7KriuBzeoEaV2P9eZcA3qbFnTHZazKw/wallet-connect.svg"});let k=t=>{let e=t?.projectId||"145769e410f16970a79ff77b2d89a1e0";return{id:m.id,meta:m.meta,create:i=>new m({...i,qrcode:!0,projectId:e,qrModalOptions:t?.qrModalOptions}),config:{projectId:e,qrModalOptions:t?.qrModalOptions}}}}}]);